<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Doto:wght@100..900&family=Noto+Sans+SC:wght@100..900&family=Playwrite+DE+VA+Guides&family=Schibsted+Grotesk:ital,wght@0,400..900;1,400..900&family=Tiny5&display=swap" rel="stylesheet">    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.8.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.8.0/addons/p5.sound.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <!-- <script src="game.js"></script> -->
    
    <title>Document</title>
</head>
<body>
    <main>
        <div id="game-boy-emulator" style="">
            <div id="game-container">
                <div id="score-container" style="">
                    score :
                    <p id="score" style="display: inline;"> 0</p>
                </div>
                
                <!-- <canvas id="defaultCanvas0" class="p5Canvas" width="800" height="600" style="width: 400px; height: 300px;"></canvas> -->
            </div>
            
            <div id="game-boy-text" style="">Nintendo</div>
            
            <div id="button-container" style="display: grid; align-items: center;  margin-top: 20px;">
                <!-- <div id="leftRightButton" style="background-color: yellow;"> -->
                    <button id="left" style="">◀</button>
                    <button id="right" style="">▶</button>
                    <button id="blank">◯</button>
                <!-- </div> -->
                
                <!-- <div id="arrow-buttons" style="display: flex; flex-direction: column; align-items: center; background-color: black;"> -->
                    <button id="up" style="">▲</button>
                    <button id="down" style="">▼</button>
                <!-- </div><div id="action-buttons" style="background-color: purple; "> -->
                    <button id="start" style="">▶</button>
                    <button id="pause" style="">Ⅱ</button>
                <!-- </div> -->
            </div>
        </div>
    </main>
    <script src="snakeGame.js"></script>
    <script>
                document.addEventListener("DOMContentLoaded", function() {
            const overlay = document.createElement('div');
            overlay.id = 'grid-overlay';
            document.body.appendChild(overlay);

            const cellsCount = 10000; 
            for (let i = 0; i < cellsCount; i++) {
                const cell = document.createElement('div');
                cell.className = 'grid-cell';
                overlay.appendChild(cell);
            }

            function getRandomColor() {
                const colors = [
                    'rgba(255, 0, 0, 0.3)',    // 红
                    'rgba(0, 255, 0, 0.3)',    // 绿
                    'rgba(0, 0, 255, 0.3)',    // 蓝
                    'rgba(255, 165, 0, 0.3)',  // 橙
                    'rgba(128, 0, 128, 0.3)',  // 紫
                    'rgba(0, 255, 255, 0.3)'   // 青
                ];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            function flashRandomCells() {
                const cells = document.querySelectorAll('.grid-cell');
                cells.forEach(cell => {
                    if (Math.random() < 0.05) {
                        cell.style.backgroundColor = getRandomColor();
                        setTimeout(() => {
                            cell.style.backgroundColor = 'transparent';
                        }, 2000); 
                    }
                });
            }

            setInterval(flashRandomCells, 1000);
        });
    </script>
</body>
</html>
